{"version":3,"sources":["editor.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;;;;;OAIQ,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBAAN,MAAM","file":"ckeditor5-core/editor.js","sourcesContent":["'use strict';\n\nimport Model from './model';\n\nexport default class Editor extends Model {\n\tconstructor( features ) {\n\t\tsuper();\n\n\t\tconsole.log( 'Editor.constructor()' );\n\n\t\tthis._features = features;\n\t\tthis.features = new Map();\n\t}\n\n\tinit() {\n\t\tconst promises = [];\n\t\tconst features = this.features;\n\t\tconst that = this;\n\n\t\tthis._features.forEach( ( feature ) => {\n\t\t\tif ( typeof feature == 'function' ) {\n\t\t\t\tinitFeatureByClass( feature );\n\t\t\t} else {\n\t\t\t\tinitFeatureByName( feature );\n\t\t\t}\n\t\t} );\n\n\t\treturn Promise.all( promises ).then( () => this );\n\n\t\tfunction initFeatureByName( featureName ) {\n\t\t\tlet featurePath;\n\n\t\t\tif ( featureName.indexOf( '/' ) == -1 ) {\n\t\t\t\tfeaturePath = `ckeditor5-${ featureName }/${ featureName }`;\n\t\t\t} else {\n\t\t\t\tfeaturePath = `ckeditor5-${ featureName }`;\n\t\t\t}\n\n\t\t\tconst promise = System\n\t\t\t\t.import( featurePath )\n\t\t\t\t.then( ( FeatureModule ) => {\n\t\t\t\t\tconst Feature = FeatureModule.default;\n\n\t\t\t\t\tinitFeatureByClass( Feature, featureName );\n\t\t\t\t} );\n\n\t\t\tpromises.push( promise );\n\t\t}\n\n\t\tfunction initFeatureByClass( Feature, featureName ) {\n\t\t\tconst requires = Feature.requires;\n\n\t\t\tif ( requires ) {\n\t\t\t\trequires.forEach( ( DepFeature ) => {\n\t\t\t\t\tif ( !isAlreadyInited( DepFeature ) ) {\n\t\t\t\t\t\tinitFeature( DepFeature );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tinitFeature( Feature, featureName );\n\t\t}\n\n\t\tfunction initFeature( Feature, featureName ) {\n\t\t\tconst feature = new Feature( that );\n\n\t\t\tif ( featureName ) {\n\t\t\t\tfeatures.set( featureName, feature );\n\t\t\t}\n\n\t\t\tfeatures.set( Feature, feature );\n\t\t}\n\n\t\tfunction isAlreadyInited( Feature ) {\n\t\t\treturn !!features.get( Feature );\n\t\t}\n\t}\n}"],"sourceRoot":"/source/"}